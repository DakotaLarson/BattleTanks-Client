<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BattleTanks</title>
    
    <meta name="description" content="BattleTanks is a free web based tank shooter where two teams of players battle it out in a team elimination gamemode!"/>
    <meta name="keywords" content="shooting games, tank games, tank battle, tank wars, tank shooter, BattleTanks, battle tanks, battletanks.app"/>
    <meta name="author" content="Dakota Larson"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">

    <meta property="og:title" content="BattleTanks"/>
    <meta property="og:type" content="website"/>
    <meta property="og:url" content="https://battletanks.app"/>
    <meta property="og:description" content="BattleTanks is a free web based tank shooter where two teams of players battle it out in a team elimination gamemode!"/>

    <meta property="og:image" content="https://battletanks.app/res/menu/header.png"/>
    <meta property="og:image:width" content="1250"/>
    <meta property="og:image:height" content="512"/>
    <meta property="og:image:type" content="image/png"/>
    <meta property="og:image:alt" content="BattleTanks Logo"/>


    <meta name="google-site-verification" content="EVg7I0KTCnW1qmVkwFeW3pX7rKxemX923IcLJWonO-8"/>
    <meta name="msvalidate.01" content="195C8869D5EEBF8AAA413CDA4482BEF4" />

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-45683707-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-45683707-2');
    </script>


    <link rel="icon" href="./tank-icon.png"/>
    <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="./css/fonts/fonts.css"/>
    <link rel="stylesheet" type="text/css" href="./css/loading.css"/>
    <link rel="stylesheet" type="text/css" href="./css/main.css"/>
    <link rel="stylesheet" type="text/css" href="./css/game-menu.css"/>
    <link rel="stylesheet" type="text/css" href="./css/overlay-menu.css"/>
    <link rel="stylesheet" type="text/css" href="./css/gui.css"/>
    <link rel="stylesheet" type="text/css" href="./css/debug-panel.css"/>
    <link rel="stylesheet" type="text/css" href="./css/main-menu.css"/>
    <link rel="stylesheet" type="text/css" href="./css/connection-screen.css"/>
    <link rel="stylesheet" type="text/css" href="./css/create-world-mode-toggle.css"/>
    <link rel="stylesheet" type="text/css" href="./css/alert-message.css"/>
    <link rel="stylesheet" type="text/css" href="./css/options-menu.css"/>
    <link rel="stylesheet" type="text/css" href="./css/joystick.css"/>
    <link rel="stylesheet" type="text/css" href="./css/username-menu.css"/>
</head>
<body>

<canvas id="game-canvas" width="0" height="0"></canvas>

<!-- LOADING SCREEN -->
<div class="loading-screen">
    <div class="loading">
        <div class="finger finger-1">
            <div class="finger-item">
            <span></span><i></i>
            </div>
        </div>
            <div class="finger finger-2">
            <div class="finger-item">
            <span></span><i></i>
            </div>
        </div>
            <div class="finger finger-3">
            <div class="finger-item">
            <span></span><i></i>
            </div>
        </div>
            <div class="finger finger-4">
            <div class="finger-item">
            <span></span><i></i>
            </div>
        </div>
            <div class="last-finger">
            <div class="last-finger-item"><i></i></div>
        </div>
    </div>
    <div class="loading-text">Loading...</div>     
</div>

<!-- MAIN MENU -->
<div class="menu main-menu no-select">
        
    <div class="auth-container">
        <span id="google-auth-btn"></span>
        <span id="auth-signout">Sign out</span>
    </div>
    <div class="server-playercount">
        <span>Server Status: </span>
        <span id="playercount-text"></span>
    </div>
    <img class="main-menu-header" src="./res/menu/header-transparent.png" draggable="false"/>
    <a href="./partners.html" target="_blank" class="partners-link">Partners</a><br/>
    <div class="game-suggestion game-suggestion-hidden"></div>
    <div class="player-stats">
        <h2 class="player-stats-title">Your Stats</h2>
        <div class="player-stats-container"></div>
        <div class="player-stats-message"></div>
    </div>
    <!-- TOP MENU -->
    <div class="menu-section" id="main-menu-top">
        <div class="top-menu-section">
                <span class="menu-selection menu-selection-xl play-btn" id="top-opt-mp">Play</span><br/>
                <span class="menu-selection" id="top-opt-sp">Create Arena</span>
        </div>
        
    </div>
    <!-- SINGLEPLAYER MENU -->
    <div class="menu-section" id="main-menu-sp">
        <div class="top-menu-section">
            <span class="menu-selection" id="sp-opt-create">Create New</span><br/>
            <span class="menu-selection" id="sp-opt-load">Load Existing</span><br/>
            <span class="menu-selection" id="sp-opt-cancel">Cancel</span>
        </div>
    </div>
    <!-- SINGLEPLAYER CREATE MENU -->
    <div class="menu-section" id="sp-menu-create">
        <div class="top-menu-section">
                <input type="number" min="5" max="1000" class="menu-input menu-number-input" id="create-opt-width" placeholder="Width"/><br/>
                <input type="number" min="5" max="1000" class="menu-input menu-number-input" id="create-opt-height" placeholder="Height"/><br/>
                <span class="menu-selection" id="create-opt-create">Create</span>
                <span class="menu-selection" id="create-opt-cancel">Cancel</span><br/>
                <span class="menu-error" id="create-opt-error"></span>
        </div>
    </div>
    <!-- SINGLEPLAYER LOAD MENU -->
    <div class="menu-section" id="sp-menu-load">
        <div class="top-menu-section">
                <input type="file" class="" id="load-opt-file" accept=".json"/>
                <div class="menu-file-input">
                    <label for="load-opt-file" class="menu-selection menu-file-choose" id="menu-file-choose">Choose File</label><br/>
                    <span class="menu-or">OR</span><br/>
                    <span class="menu-drop">Drag &amp; Drop here</span>
                    <span class="menu-file-name"></span>
                </div><br/>
                <span class="menu-selection" id="load-opt-load">Load</span>
                <span class="menu-selection" id="load-opt-cancel">Cancel</span><br/>
                <span class="menu-error" id="load-opt-error"></span>
        </div>
    </div>
    <!-- SOCIAL LINKS -->
    <p class="feedback-request">
        <span class="feedback-greeting">Hi there!<br/></span>
BattleTanks is being <a href="https://bit.ly/2AtVanF" target="_blank">actively&nbsp;developed</a> and I am basing future development almost entirely on feedback I receive from the growing community!<br/>
Let me know <a href="https://bit.ly/2QbTqoa" target="_blank">what you think</a>!
    </p>
    <div class="discord-container">
        <a class="discord-ref" href="https://discord.gg/7J5ZJUQ" target="_blank">
            <img class="discord-image" draggable="false" src="./res/social/discord.svg" alt="BattleTanks Discord">
        </a>
    </div>
</div>

<!-- ALERT MESSAGE -->
<div class="alert-message no-select"></div>

<!-- GUI -->
<div class="gui no-select">
     
    <div class="debug-panel gui-element no-select">
        <span class="debug-data no-select">FPS: <span id="debug-fps">...</span></span><br/>
        <span class="debug-data no-select">Rendering: <span id="debug-rendering">...</span></span><br/>
        <span class="debug-data no-select">Computation: <span id="debug-computation">...</span></span><br/>
        <span class="debug-data no-select">Idle: <span id="debug-idle">...</span></span><br/>
    </div>
    <div class="fullscreen-toggle gui-element no-select">
        <img id="fullscreen-toggle-on" draggable="false" src="./res/gui/fullscreen.svg">
        <img id="fullscreen-toggle-off" draggable="false" src="./res/gui/fullscreen-exit.svg">
    </div>

    <div class="create-world-mode-toggle-parent gui-element no-select">
        <div class="create-world-mode-toggle no-select" id="creation-tool-camera">Camera (C)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-block">Block (V)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-team-a-spawn">Team A Spawn (A)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-team-b-spawn">Team B Spawn (B)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-powerup-shield">Shield Powerup (S)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-powerup-health">Health Powerup (D)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-powerup-speed">Speed Powerup (F)</div>
        <div class="create-world-mode-toggle no-select" id="creation-tool-powerup-ammo">Ammo Powerup (G)</div>

    </div>

    <div class="killfeed-container gui-element no-select"></div>

    <div class="joystick-container gui-element no-select">
        <div class="joystick"></div>
    </div>
    
    <div class="chat-preview-container gui-element no-select"></div>
    <div class="chat-container gui-element text-select">
        <div class="chat-message-container"></div>
        <input type="text" class="chat-input" maxlength="255">
    </div>

    <div class="shield-bar-parent gui-element no-select" id="shield-parent">
        <div class="shield-bar"></div>
    </div>

    <div class="health-bar-parent gui-element no-select" id="health-parent">
        <div class="health-bar"></div>
    </div>

    <div class="ram-bar-parent gui-element no-select" id="ram-parent">
        <div class="ram-bar"></div>
    </div>

    <div class="ammo-display-container gui-element no-select">
        <span class="ammo-count"></span>
        <svg viewBox="0 0 100 100">
            <circle class="ammo-circle" cx="50" cy="50" r="45" stroke="green" stroke-width="10" stroke-dasharray="282.6" fill="none"/>
        </svg>
    </div> 
</div>

<!-- SP GAME MENU -->
<div class="menu game-menu no-select" id="game-menu-sp">
    <div class="game-menu-options">
        <span class="menu-selection" id="game-menu-sp-return-to-main">Return to Main Menu</span><br/>
        <span class="menu-selection" id="game-menu-sp-world-save">Download Arena</span><br/>
        <span class="menu-selection" id="game-menu-sp-cancel">Return to Game</span>
    </div>
</div>

<!-- DOWNLOAD MENU -->
<div class="menu game-menu no-select" id="download-menu">
    <div class="game-menu-options download-options">
        <div class='options-parent'>
            
            <span class="option-title">Title</span>
            <input type="text" maxlength="32" class="option-value" id="download-option-title"> 
            
            <span class="option-title">Minimum Player Count</span>
            <input type="number" min="2" max="30" class="option-value" id="download-option-min">

            <span class="option-title">Maximum Player Count</span>
            <input type="number" min="4" max="32" class="option-value" id="download-option-max">
            
        </div><br/>
        <span class="menu-selection" id="download-menu-arena-download">Download Arena</span>
        <span class="menu-selection" id="download-menu-return">Return to Game</span><br/>
        <span class="menu-error" id="download-menu-error"></span>
    </div>
</div>

<!-- MP GAME MENU -->
<div class="menu game-menu no-select" id="game-menu-mp">
    <div class="game-menu-options">
        <span class="menu-selection" id="game-menu-mp-disconnect">Disconnect</span><br/>
        <span class="menu-selection" id="game-menu-mp-cancel">Return To Game</span>
    </div>
</div>

<!-- CONNECTION SCREEN -->
<div class="menu connection-screen no-select">
        <div class="menu-section section-connecting">
            <span class="message">Connecting...</span><br/>
            <span class="menu-selection option-disconnect">Disconnect</span>
        </div>
        <div class="menu-section section-disconnected">
            <span class="message">Disconnected</span><br/>
            <span class="menu-selection option-disconnect">Disconnect</span><br/>
            <span class="disconnected-reason"></span>
        </div>
        <div class="menu-section section-connected">
            <span class="message">Connected</span><br/>
            <span class="menu-selection option-disconnect">Disconnect</span>
        </div>
        <div class="menu-section section-waiting">
            <div class="last-match-statistics"></div><br/>
            <span class="message">Waiting for more players...</span><br/>
            <span class="menu-selection option-disconnect">Disconnect</span>
        </div>
        <div class="menu-section section-starting">
            <div class="last-match-statistics"></div><br/>
            <span class="message">Match starting up!</span><br/>
            <span class="menu-selection option-disconnect">Disconnect</span>
        </div>
    </div>

<!-- OVERLAY MENU -->
<div class="menu overlay-menu">
    <span class="volume-suggestion no-select">Tap to unmute</span>
    <img class="volume-mute no-select" draggable="false"/>
    <div class="fullscreen-toggle gui-element no-select">
        <img id="fullscreen-toggle-on" draggable="false" src="./res/gui/fullscreen.svg">
        <img id="fullscreen-toggle-off" draggable="false" src="./res/gui/fullscreen-exit.svg">
    </div>
    <img class="menu-options" draggable="false" src="./res/menu/gear.svg"/>
    
</div>

<!-- OPTIONS MENU -->
<div class="options-menu-parent menu">
    <div class="options-menu">
        <h2>Options</h2>
        <div class='options-parent'>

            <div class="option-title username-parent">
                <span class="username-change">Update</span>
                <span>Username:</span>
            </div>
            <span class="username-value"></span>
            
            <span class="option-title">Chat:</span>
            <input type="checkbox" id="option-enabled-chat">
    
            <span class="option-title">Killfeed:</span>
            <input type="checkbox" id="option-enabled-killfeed">
    
            <span class="option-title">Forward:</span>
            <span class="option-value option-listening-value" id="option-value-forward"></span>
    
            <span class="option-title">Backward:</span>
            <span class="option-value option-listening-value" id="option-value-backward"></span>
    
            <span class="option-title">Rotate Left:</span>
            <span class="option-value option-listening-value" id="option-value-left"></span>
    
            <span class="option-title">Rotate Right:</span>
            <span class="option-value option-listening-value" id="option-value-right"></span>
    
            <span class="option-title">Reload:</span>
            <span class="option-value option-listening-value" id="option-value-reload"></span>
    
            <span class="option-title">Ramming Speed:</span>
            <span class="option-value option-listening-value" id="option-value-ram"></span>
    
            <span class="option-title">Shoot:</span>
            <span class="option-value option-listening-value" id="option-value-shoot"></span>
    
            <span class="option-title">Open Chat:</span>
            <span class="option-value option-listening-value" id="option-value-chatopen"></span>
    
            <span class="option-title">Game Volume:</span>
            <input type="range" id="option-value-volume-game" class="option-value option-range-value" min="0" max="1" step="any"/>
    
            <span class="option-title">Menu Volume:</span>
            <input type="range" id="option-value-volume-menu" class="option-value option-range-value" min="0" max="1" step="any"/>
     
            <span class="option-title">Mouse Sensitivity:</span>
            <input type="range" id="option-value-mouse" class="option-value option-range-value" min="0.1" max="1" step="any"/>
    
            <span class="option-title">Rotation Sensitivity:</span>
            <input type="range" id="option-value-rotation" class="option-value option-range-value" min="0.5" max="1.5" step="any"/>
            
            <span class="option-title">Camera Angle:</span>
            <input type="range" id="option-value-camera-angle" class="option-value option-range-value" min="0" max="1" step="any"/>
    
            <span class="option-title">Controls:</span>
            <div class="option-value-radio">
                <input type="radio" id="option-value-controls-simple" class="option-value option-radio-value" name="controls-option"/>
                <span>Simple</span><br/>
                <input type="radio" id="option-value-controls-standard" class="option-value option-radio-value" name="controls-option"/>
                <span>Standard</span>
            </div>
        </div><br/>
        <span class="menu-selection" id="opt-opt-close">Save &amp; Close</span><br/>
        <span class="options-tip">Tip: Hold ctrl &amp; primary mouse button to alter camera angle in game</span>
    </div>
</div>

<!-- USERNAME MENU -->
<div class="username-menu-parent menu">
    <div class="username-menu no-select">
        <h2>Update Username</h2>
        <input type="text" class="username-input" size="16" maxlength="16"><br/>
        <span class="menu-selection disabled" id="username-save">Save &amp; Close</span>
        <span class="menu-selection" id="username-cancel">Cancel</span>

    </div>
</div>

<audio id="audioElt" preload="auto" loop>
    <source src="./res/audio/menu/background.mp3" type="audio/mpeg"/>
</audio>

<script src="./polyfill/encoding.js"></script>
<script src="./polyfill/encoding-indexes.js"></script>
<script src="./polyfill/keyboard.js"></script>
<script src="./polyfill/eventsource.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.21.2/system.js"></script>
<script>
    const config = {
        map: {
            three: "https://cdnjs.cloudflare.com/ajax/libs/three.js/101/three.js"
        },
        packages: {
            build: {
                defaultExtension: "js"
            }
        } 
    }
    SystemJS.config(config);
    System.import("./build/Game.js");
</script>
<script>
    function onAuthInit() {
        if(window.initAuth) {
            window.initializeAuth();
        } else {
            window.isAuthInitialized = true;
        }
    }
</script>
<script async defer src="https://apis.google.com/js/api.js" onload="onAuthInit()"></script>
</body>
</html>